---
layout: default
---

<h1>课程作业发布页</h1>

<h2>说明</h2>

<span style="white-space: nowrap;">
  <a href="https://oc.sjtu.edu.cn/courses/84452/assignments">Canvas (MATH1205H-04) 作业提交区</a>, <a href="https://github.com/zhangchenchengSJTU/MATH1205H-04-HW">网页仓库 (无源码)</a>, <a href="https://github.com/zhangchenchengSJTU/LA-2025-2026-1--MATH1205H-04/tree/main/_posts"><b>作业源码</b></a>.
</span></span>

<h2>习题课 (最近三次)</h2>

{% assign EC_posts = site.posts | where: "categories", "ExerciseClass" %}
{% for post in EC_posts limit:3 %}
  <h5><a href="{{ post.url | relative_url}}">{{ post.title }}</a></h5>
{% endfor %}

<h2>作业 (最近三次)</h2>

{% assign homework_posts = site.posts | where: "categories", "homework" %}
{% for post in homework_posts limit:3 %}
  <h5><a href="{{ post.url | relative_url}}">{{ post.title }}</a></h5>
  <p>
    {{ post.date | date: "%Y-%m-%d" }} • {{ post.categories | join: ", " }} • 
    <span class="countdown"
          data-deadline="{{ post.date | date: "%Y-%m-%d" }}">
    </span>
  </p>
{% endfor %}


<h2>作业解答 (最近三次)</h2>

{% assign solution_posts = site.posts | where: "categories", "solution" %}
{% assign now_unix = site.time | date: "%s" | plus: 0 %}
{% assign eight_days_seconds = 8 | times: 24 | times: 60 | times: 60 %}

{% assign count = 0 %}
{% for post in solution_posts %}
  {% capture post_unix %}{{ post.date | date: "%s" | plus: 0 }}{% endcapture %}
  {% assign diff = now_unix | minus: post_unix %}
  {% if diff >= eight_days_seconds and diff %}
    <h5><a href="{{ post.url | relative_url}}">{{ post.title }}</a></h5>
    <p>
      {{ post.date | date: "%Y-%m-%d" }} • {{ post.categories | join: ", " }}
    </p>
    {% assign count = count | plus: 1 %}
    {% if count == 3 %}
      {% break %}
    {% endif %}
  {% endif %}
{% endfor %}

<h2>Statistics</h2>

{% assign total_posts=site.posts | size %}

{% assign homework_posts=0 %}
{% for post in site.posts %}
  {% if post.categories contains "homework" %}
    {% assign homework_posts=homework_posts | plus: 1 %}
  {% endif %}
{% endfor %}

{% assign solution_posts=0 %}
{% for post in site.posts %}
  {% if post.categories contains "solution" %}
    {% assign solution_posts=solution_posts | plus: 1 %}
  {% endif %}
{% endfor %}

<p>The website was last built on {{ site.time | date: "%Y-%m-%d %H:%M:%S" }}, and <a href="directory">this</a> is a directory for {{ total_posts }} published posts, including {{ homework_posts }} <a href="homework">homeworks</a> and {{ solution_posts }} <a href="solution">solutions</a>.


<h2>Acknowledgement</h2>

<p>This website is based on <a href="https://github.com/ryanmcdermott/jekyll-latex">this outstanding repository</a>, to whose author we extend our sincere gratitude.</p>


<script>
document.addEventListener("DOMContentLoaded", function () {
  const countdowns = document.querySelectorAll(".countdown");
  countdowns.forEach(el => {
    const baseDate = new Date(el.dataset.deadline);
    const deadline = new Date(baseDate.getTime() + 8 * 24 * 60 * 60 * 1000 - 8 * 60 * 60 * 1000); // 8 天后, 减去 8 小时

    function updateCountdown() {
      const now = new Date();
      const diff = deadline - now;

      if (diff <= 0) {
        el.textContent = "已截止😢😢😢";
        el.style.color = "gray";
        el.style.fontWeight = "normal";
      } else {
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);

        el.textContent = `剩余 ${days} 天 ${hours} 小时 ${minutes} 分钟`;

        // 清除旧样式
        el.style.color = "";
        el.style.fontWeight = "normal";

        // 大于 96 小时 → 绿
        if (diff > 96 * 60 * 60 * 1000) {
          el.style.color = "green";
        }
        // 24 - 96 小时 → 黄
        else if (diff <= 96 * 60 * 60 * 1000 && diff > 24 * 60 * 60 * 1000) {
          el.style.color = "orange";
          el.style.fontWeight = "bold";
        }
        // 0 - 24 小时 → 红
        else if (diff <= 24 * 60 * 60 * 1000) {
          el.style.color = "red";
          el.style.fontWeight = "bold";
        }
      }
    }

    updateCountdown();
    setInterval(updateCountdown, 60000); // 每分钟刷新一次
  });
});
</script>
